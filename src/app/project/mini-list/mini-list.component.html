<section class="mini-container">
  <header class="section-header">
    <h4>Minis</h4>
  </header>

  <form (ngSubmit)="addMini(); $event.preventDefault()" class="add-form">
    <input
      type="text"
      placeholder="Mini name"
      [ngModel]="newMiniName()"
      (ngModelChange)="newMiniName.set($event)"
      name="miniName"
    />
    <input
      type="text"
      placeholder="Paint scheme"
      [ngModel]="newPaintScheme()"
      (ngModelChange)="newPaintScheme.set($event)"
      name="paintScheme"
    />
    <button type="submit" [disabled]="!newMiniName()">Add Mini</button>
  </form>

  <ul class="mini-list">
    @for (m of minis(); track m.id) {
      <li class="mini-card">
        <div class="mini-header">
          <div>
            <strong>{{ m.name }}</strong>
            @if (m.paintScheme) {
              <p class="paint">Paint: {{ m.paintScheme }}</p>
            }
          </div>
          <div class="actions">
            <button (click)="toggleCompleted(m.id)">
              {{ m.completed ? '✅' : '⬜' }}
            </button>
            <button (click)="removeMini(m.id)">✖</button>
          </div>
        </div>
      </li>
    } @empty {
      <p class="empty">No minis yet. Add one above!</p>
    }
  </ul>
</section>
