<section class="unit-container">
  <header class="section-header">
    <h3>Units</h3>
  </header>

  <form (ngSubmit)="addUnit(); $event.preventDefault()" class="add-form">
    <input
      type="text"
      placeholder="Unit name"
      [ngModel]="newUnitName()"
      (ngModelChange)="newUnitName.set($event)"
      name="unitName"
    />
    <button type="submit" [disabled]="!newUnitName()">Add Unit</button>
  </form>

  <ul class="unit-list">
    @for (u of units(); track u.id) {
      <li class="unit-card">
        <div class="unit-header">
          <strong>{{ u.name }}</strong>
          <div class="actions">
            <button (click)="removeUnit(u.id)">âœ–</button>
          </div>
        </div>

        <app-mini-list
          [projectId]="projectId"
          [forceId]="forceId"
          [unitId]="u.id"
        ></app-mini-list>
      </li>
    } @empty {
      <p class="empty">No units yet. Add one above!</p>
    }
  </ul>
</section>
